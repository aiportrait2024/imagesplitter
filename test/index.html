<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Best Image Splitter Online | Free Photo Grid Divider</title>
    <meta name="description" content="Easily split and divide images into multiple grid sections. Perfect for designers, photographers, and content creators. Free online image tool.">
    <meta name="keywords" content="image splitter, photo grid, image divider, photo cutter, online image tool, grid image editor">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="icon" type="image/svg+xml" href="/placeholder-logo.svg">
    <script src="https://cdn.jsdelivr.net/npm/jszip@3.7.1/dist/jszip.min.js"></script>
</head>
<body class="bg-gray-50">
    <div id="root" class="min-h-screen flex flex-col">
        <header class="bg-white shadow-md">
            <div class="container mx-auto px-4 py-4 flex justify-between items-center">
                <div class="flex items-center">
                    <img src="/placeholder-logo.svg" alt="Logo" class="h-10 w-10 mr-4">
                    <h1 class="text-xl font-bold text-gray-800">Image Splitter</h1>
                </div>
            </div>
        </header>

        <main class="flex-grow container mx-auto px-4 py-8">
            <div id="image-splitter-app"></div>
        </main>

        <footer class="bg-gray-800 text-white py-8">
            <div class="container mx-auto px-4 grid md:grid-cols-3 gap-8">
                <div>
                    <h3 class="font-bold mb-4">About Image Splitter</h3>
                    <p>An advanced online tool to split images into multiple grid sections with ease and precision.</p>
                </div>
                <div>
                    <h3 class="font-bold mb-4">Quick Links</h3>
                    <ul>
                        <li><a href="#" class="hover:text-blue-300">Home</a></li>
                        <li><a href="#privacy" class="hover:text-blue-300">Privacy Policy</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="font-bold mb-4">Contact</h3>
                    <p>Email: support@imagesplitters.com</p>
                    <p>Â© 2024 Image Splitter. All Rights Reserved.</p>
                </div>
            </div>
        </footer>
    </div>

    <script>
    // Wrapper to ensure global scope
    (function() {
        // State management
        let imageState = null;
        let originalGridPreviewState = null;
        let splitImagesState = [];
        let rowsState = 3;
        let columnsState = 3;

        function createGridPreview(img) {
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = img.width;
            canvas.height = img.height;

            ctx.drawImage(img, 0, 0);
            ctx.strokeStyle = 'rgba(255, 0, 0, 0.5)';
            ctx.lineWidth = 2;

            const cellWidth = img.width / columnsState;
            const cellHeight = img.height / rowsState;

            for (let row = 1; row < rowsState; row++) {
                ctx.beginPath();
                ctx.moveTo(0, row * cellHeight);
                ctx.lineTo(img.width, row * cellHeight);
                ctx.stroke();
            }

            for (let col = 1; col < columnsState; col++) {
                ctx.beginPath();
                ctx.moveTo(col * cellWidth, 0);
                ctx.lineTo(col * cellWidth, img.height);
                ctx.stroke();
            }

            return canvas.toDataURL();
        }

        function handleImageUpload(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    const img = new Image();
                    img.onload = () => {
                        imageState = img;
                        originalGridPreviewState = createGridPreview(img);
                        splitImagesState = [];
                        render();
                    };
                    img.src = e.target.result;
                };
                reader.readAsDataURL(file);
            }
        }

        function splitImage() {
            if (!imageState) return;

            const splitResult = [];
            const cellWidth = Math.floor(imageState.width / columnsState);
            const cellHeight = Math.floor(imageState.height / rowsState);

            for (let row = 0; row < rowsState; row++) {
                for (let col = 0; col < columnsState; col++) {
                    const canvas = document.createElement('canvas');
                    const ctx = canvas.getContext('2d');
                    canvas.width = cellWidth;
                    canvas.height = cellHeight;

                    ctx.drawImage(
                        imageState,
                        col * cellWidth, 
                        row * cellHeight, 
                        cellWidth, 
                        cellHeight,
                        0, 
                        0, 
                        cellWidth, 
                        cellHeight
                    );

                    splitResult.push({
                        dataUrl: canvas.toDataURL(),
                        filename: `split_image_row${row+1}_col${col+1}.png`
                    });
                }
            }

            splitImagesState = splitResult;
            render();
        }

        async function downloadAllImages() {
            const JSZip = window.JSZip;
            const zip = new JSZip();
            const imageFolder = zip.folder('split_images');

            splitImagesState.forEach((img) => {
                imageFolder.file(img.filename, img.dataUrl.split(',')[1], {base64: true});
            });

            const content = await zip.generateAsync({type: 'blob'});
            const link = document.createElement('a');
            link.href = URL.createObjectURL(content);
            link.download = 'split_images.zip';
            link.click();
        }

        function downloadSingleImage(dataUrl, filename) {
            const link = document.createElement('a');
            link.href = dataUrl;
            link.download = filename;
            link.click();
        }

        function render() {
            const app = document.getElementById('image-splitter-app');
            app.innerHTML = `
                <div class="max-w-2xl mx-auto flex flex-col items-center">
                    <h2 class="text-4xl font-bold text-center mb-8 text-gray-800">Best Image Splitter Online</h2>
                    
                    <div class="w-full">
                        <div 
                            id="upload-area"
                            class="border-2 border-dashed border-gray-300 p-12 text-center cursor-pointer hover:border-blue-500 transition w-full"
                        >
                            <input 
                                type="file" 
                                id="file-input"
                                accept="image/*"
                                class="hidden"
                            />
                            <p class="text-gray-600">Upload Image</p>
                        </div>

                        <div class="mt-4 flex justify-center space-x-2">
                            <input 
                                type="number" 
                                id="rows-input"
                                value="${rowsState}" 
                                placeholder="Rows" 
                                class="p-2 border rounded w-20"
                                min="1"
                                max="10"
                            />
                            <input 
                                type="number" 
                                id="columns-input"
                                value="${columnsState}" 
                                placeholder="Columns" 
                                class="p-2 border rounded w-20"
                                min="1"
                                max="10"
                            />
                            <button 
                                id="split-button"
                                class="p-2 bg-blue-500 text-white rounded ${!imageState ? 'opacity-50' : ''}"
                            >
                                Split Image
                            </button>
                        </div>
                    </div>

                    <div class="mt-8 w-full">
                        ${originalGridPreviewState ? `
                            <div class="mb-4">
                                <h2 class="text-xl mb-2 text-center">Original Image Preview</h2>
                                <img 
                                    src="${originalGridPreviewState}" 
                                    alt="Grid Preview" 
                                    class="max-w-full h-auto mx-auto"
                                />
                            </div>
                        ` : ''}

                        ${splitImagesState.length > 0 ? `
                            <div>
                                <h2 class="text-xl mb-2 text-center">Split Results</h2>
                                <div class="grid grid-cols-3 gap-2">
                                    ${splitImagesState.map((img, index) => `
                                        <div class="relative">
                                            <img 
                                                src="${img.dataUrl}" 
                                                alt="Split ${index + 1}"
                                                class="w-full h-auto object-cover"
                                            />
                                            <button 
                                                data-index="${index}"
                                                class="download-single-btn absolute bottom-0 right-0 m-1 px-2 py-1 bg-green-500 text-white text-xs rounded"
                                            >
                                                Download
                                            </button>
                                        </div>
                                    `).join('')}
                                </div>
                                <button 
                                    id="download-all-btn"
                                    class="mt-4 w-full p-2 bg-blue-500 text-white rounded hover:bg-blue-600"
                                >
                                    Download All Images (ZIP)
                                </button>
                            </div>
                        ` : ''}
                    </div>

                    <div class="mt-12 w-full bg-white p-8 rounded-lg shadow-md">
                        <section class="mb-8">
                            <h3 class="text-2xl font-semibold mb-4">Use Cases</h3>
                            <ul class="list-disc list-inside space-y-2 text-gray-700">
                                <li>Design and Social Media: Create perfect grid layouts for Instagram, Pinterest, and other visual platforms</li>
                                <li>Photography: Divide large images into smaller, manageable sections for detailed editing or printing</li>
                                <li>Web Design: Generate image tiles for responsive website layouts</li>
                                <li>Art and Illustration: Split artwork for creating multi-panel displays or digital collages</li>
                                <li>Educational Materials: Break down complex images for classroom presentations and learning materials</li>
                            </ul>
                        </section>

                        <section class="mb-8">
                            <h3 class="text-2xl font-semibold mb-4">How to Use</h3>
                            <ol class="list-decimal list-inside space-y-2 text-gray-700">
                                <li>Click on the "Upload Image" area to select an image from your device</li>
                                <li>Adjust the number of rows and columns to define your grid layout</li>
                                <li>Click "Split Image" to generate grid sections</li>
                                <li>Preview your split images and download individual sections or the entire set</li>
                            </ol>
                        </section>

                        <section>
                            <h3 class="text-2xl font-semibold mb-4">Frequently Asked Questions</h3>
                            <div class="space-y-4">
                                <div>
                                    <h4 class="font-semibold text-lg">What image formats are supported?</h4>
                                    <p class="text-gray-700">We support most common image formats including JPEG, PNG, WebP, and GIF.</p>
                                </div>
                                <div>
                                    <h4 class="font-semibold text-lg">Is there a limit to image size?</h4>
                                    <p class="text-gray-700">While we support large images, we recommend images under 20MB for optimal performance.</p>
                                </div>
                                <div>
                                    <h4 class="font-semibold text-lg">Can I split images into different grid sizes?</h4>
                                    <p class="text-gray-700">Yes! You can split images into 1-10 rows and columns, giving you maximum flexibility.</p>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            `;

            // Event Listeners
            const uploadArea = document.getElementById('upload-area');
            const fileInput = document.getElementById('file-input');
            const rowsInput = document.getElementById('rows-input');
            const columnsInput = document.getElementById('columns-input');
            const splitButton = document.getElementById('split-button');
            const downloadAllBtn = document.getElementById('download-all-btn');

            uploadArea.addEventListener('click', () => fileInput.click());
            fileInput.addEventListener('change', handleImageUpload);

            rowsInput.addEventListener('change', (e) => {
                const value = Math.max(1, Math.min(10, Number(e.target.value)));
                rowsState = value;
                e.target.value = value;
                if (imageState) {
                    originalGridPreviewState = createGridPreview(imageState);
                    render();
                }
            });

            columnsInput.addEventListener('change', (e) => {
                const value = Math.max(1, Math.min(10, Number(e.target.value)));
                columnsState = value;
                e.target.value = value;
                if (imageState) {
                    originalGridPreviewState = createGridPreview(imageState);
                    render();
                }
            });

            if (splitButton) {
                splitButton.addEventListener('click', splitImage);
            }

            if (downloadAllBtn) {
                downloadAllBtn.addEventListener('click', downloadAllImages);
            }

            const downloadSingleBtns = document.querySelectorAll('.download-single-btn');
            downloadSingleBtns.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const index = e.target.getAttribute('data-index');
                    const img = splitImagesState[index];
                    downloadSingleImage(img.dataUrl, img.filename);
                });
            });
        }

        // Initial render
        render();
    })();
    </script>
</body>
</html>
